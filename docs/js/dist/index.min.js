!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e,r){"use strict";let n;r.r(e),$("#searchButton").click(()=>{let t=$("#projectInput").val();const e=$("#searchResults");$.get("https://api.globalgiving.org/api/public/services/search/projects",{api_key:"75b3e155-2250-45c1-8833-19a3e9678fd6",q:encodeURIComponent(t)},t=>{let r=t.search.response.projects;if(e.empty(),r){r=r.project;for(let t in r){const o=r[t];let s=$("<li></li>").addClass("list-group-item").css("cursor","pointer").html(o.title);s.hover(()=>$(void 0).css("background-color","#dddddd"),()=>$(void 0).css("background-color","#ffffff")),s.click(()=>{n=o.id,$("#projectInput").val(o.title),e.empty()}),e.append(s)}}else{const t=$("<li></li>").addClass("list-group-item").html("No projects found");e.append(t)}},"json")}),$("#bannerForm").submit(function(t){t.preventDefault();const e=$("#siteURLInput").val(),r=n,o=$("#styleSelect").val();const s=function(t){$.get("http://localhost:5000/charity-banner/us-central1/getAllTagIds",e=>{function r(t){let e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;for(let o=0;o<t;o++)e+=r.charAt(Math.floor(Math.random()*n));return e}console.log(e);let n=r(30);for(;e.includes(n);)n=r(30);$.get("http://localhost:5000/charity-banner/us-central1/initAnalytics",{id:n});const o=new URL("https://us-central1-charity-banner.cloudfunctions.net/banner");o.searchParams.set("projectId",this.projectId),o.searchParams.set("style",this.style),o.searchParams.set("tagId",n),t(`<script src="${o.href}" defer><\/script>`,n)})}.bind({siteURL:e,projectId:r,style:o})((t,e)=>{$("#resultScript").text(t),$("#resultId").text(e)});$("#resultsModal").modal(),$("#copyCode").click(()=>{navigator.permissions.query({name:"clipboard-write"}).then(t=>{"granted"!==t.state&&"prompt"!==t.state||navigator.clipboard.writeText(s)})})})}]);