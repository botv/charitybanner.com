!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);let n={},o=null;$("#bannerForm").submit(function(e){if(e.preventDefault(),!o)return;let r=$("#bannerForm :input"),t={};r.each(function(){t[this.name]=$(this).val()}),t.charityId=o,t.projectData=n[t.charityId],""===t.charityURL&&(t.charityURL=t.projectData.url),(""===t.bannerHeight||t.bannerHeight<150)&&(t.bannerHeight=150),console.log(t);(function(){const e=new URL("https://us-central1-charity-banner.cloudfunctions.net/banner");return e.searchParams.set("siteURL",this.siteURL),e.searchParams.set("charityId",this.charityId),e.searchParams.set("bannerHeight",this.bannerHeight),e.searchParams.set("bannerStyle",this.bannerStyle),e.searchParams.set("bannerPrimaryColor",this.bannerPrimaryColor),e.searchParams.set("bannerSecondaryColor",this.bannerSecondaryColor),e.searchParams.set("bannerHighlightColor",this.bannerHighlightColor),e.searchParams.set("bannerTextColor",this.bannerTextColor),`<script src="${e.href} defer"><\/script>`}).bind(t)}),$("#searchProjects").click(()=>{let e=encodeURI($("#searchProjectsQuery").val());""!==e&&(console.log("q:"+e),$.get("https://api.globalgiving.org/api/public/services/search/projects?api_key=75b3e155-2250-45c1-8833-19a3e9678fd6&q="+e,e=>{let r=$("#searchResults");if(r.empty(),!e.search.response.projects){console.log(e.search.response);let t=document.createElement("li");return t.classList.add("list-group-item"),t.innerHTML="No results! :(",void r.append(t)}for(let r of e.search.response.projects.project)n[r.id]={title:r.title,id:r.id,desc:r.activities,url:r.contactUrl||r.projectLink,img:r.imageLink};for(let e in n){let t=$("<li></li>");t.addClass("list-group-item"),t.css("cursor","pointer"),t.html(n[e].title),t.hover(function(){$(this).css("background-color","#bbb")},function(){$(this).css("background-color","#fff")}),t.click(()=>{o=n[e].id,$("#projectLabel").html("Project ("+n[e].title+")"),console.log("click!")}),r.append(t)}console.log(n)},"json"))})}]);